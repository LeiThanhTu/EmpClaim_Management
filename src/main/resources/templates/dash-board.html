<!DOCTYPE html>
<html  xmlns:th="http://www.thymeleaf.org" th:replace="~{base::layout(~{::section})}">
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
</head>
<body>
<section>
  <div class="row">
      <div class="col-6 col-sm-2 mt-2">
          <div class="card bg-light">
           <div class="card-body text-center">
             <i class="fas fa-code fa-2x mb-2 text-primary"></i>
             <h6>Development</h6>
             <h4 class="text-primary" th:text="${developmentCount}">9</h4>
           </div>
          </div>
      </div>
      
      <!-- Tương tự cho các phòng ban khác -->
      <div class="col-6 col-sm-2 mt-2">
          <div class="card bg-light">
           <div class="card-body text-center">
             <i class="fas fa-bug fa-2x mb-2 text-info"></i>
             <h6>QA Testing</h6>
             <h4 class="text-info" th:text="${qaCount}">5</h4>
           </div>
          </div>
      </div>
      
      <!-- Development và QA Testing đã có -->
      
      <div class="col-6 col-sm-2 mt-2">
          <div class="card bg-light">
           <div class="card-body text-center">
             <i class="fas fa-network-wired fa-2x mb-2 text-success"></i>
             <h6>Networking</h6>
             <h4 class="text-success" th:text="${networkingCount}">8</h4>
           </div>
          </div>
      </div>
      
      <div class="col-6 col-sm-2 mt-2">
          <div class="card bg-light">
           <div class="card-body text-center">
             <i class="fas fa-users fa-2x mb-2 text-warning"></i>
             <h6>HR Team</h6>
             <h4 class="text-warning" th:text="${hrCount}">4</h4>
           </div>
          </div>
      </div>
      
      <div class="col-6 col-sm-2 mt-2">
          <div class="card bg-light">
           <div class="card-body text-center">
             <i class="fas fa-shield-alt fa-2x mb-2 text-danger"></i>
             <h6>Security</h6>
             <h4 class="text-danger" th:text="${securityCount}">2</h4>
           </div>
          </div>
      </div>
      
      <div class="col-6 col-sm-2 mt-2">
          <div class="card bg-light">
           <div class="card-body text-center">
             <i class="fas fa-chart-line fa-2x mb-2 text-purple"></i>
             <h6>Sales Marketing</h6>
             <h4 class="text-purple" th:text="${salesCount}">1</h4>
           </div>
          </div>
      </div>
  
  
  </div>
  
  <div class="row">
  
  
      <div class="col-6 col-sm-2 mt-2">
        <div class="card">
          <div class="card-body bg-warning text-center">
            <i class="fas fa-clock fa-2x mb-2 text-white"></i>
            <h6 class="text-white">Pending</h6>
            <h4 class="text-white" th:text="${pendingCount}">9</h4>
          </div>
          </div>
      </div>
      
      <!-- Pending đã có -->
      
      <div class="col-6 col-sm-2 mt-2">
        <div class="card">
          <div class="card-body bg-success text-center">
            <i class="fas fa-check-circle fa-2x mb-2 text-white"></i>
            <h6 class="text-white">Approved</h6>
            <h4 class="text-white" th:text="${approvedCount}">5</h4>
          </div>
        </div>
      </div>
      
      <div class="col-6 col-sm-2 mt-2">
        <div class="card">
          <div class="card-body bg-info text-center">
            <i class="fas fa-ban fa-2x mb-2 text-white"></i>
            <h6 class="text-white">Canceled</h6>
            <h4 class="text-white" th:text="${canceledCount}">8</h4>
          </div>
        </div>
      </div>
      
      <div class="col-6 col-sm-2 mt-2">
        <div class="card">
          <div class="card-body bg-danger text-center">
            <i class="fas fa-times-circle fa-2x mb-2 text-white"></i>
            <h6 class="text-white">Denied</h6>
            <h4 class="text-white" th:text="${deniedCount}">4</h4>
          </div>
        </div>
      </div>
      
      <div class="col-6 col-sm-2 mt-2">
        <div class="card">
          <div class="card-body bg-primary text-center">
            <i class="fas fa-list fa-2x mb-2 text-white"></i>
            <h6 class="text-white">All</h6>
            <h4 class="text-white" th:text="${allCount}">2</h4>
          </div>
        </div>
      </div>
      
      <div class="col-6 col-sm-2 mt-2">
        <div class="card">
          <div class="card-body bg-secondary text-center">
            <i class="fas fa-bell fa-2x mb-2 text-white"></i>
            <h6 class="text-white">Reminder</h6>
            <h4 class="text-white" th:text="${reminderCount}">1</h4>
          </div>
        </div>
      </div>
  
  
  </div>
  <!-- End Above Status -->
  
  
  <div class="row mb-5">
     
     <div class="col-md-8 mt-3">
       
         <div class="card">
            <div class="card-body">
              <h5><i class="fas fa-history"></i> Recent Claims</h5>
              <hr>
              <table class="table table-hover" id="claimsTable">
                <thead>
                    <tr>
                        <th>S.No</th>
                        <th>Subject</th>
                        <th>Description</th>
                        <th>Date</th>
                        <th>Status</th>
                    </tr>
                </thead>
                <tbody>
               <tr th:if="${#lists.isEmpty(statusList)}">
                 <td colspan="5" class="text-center">No claims found</td>
                </tr>
                    <tr th:each="e,i : ${statusList}">
                        <td th:text="${i.index + 1}">1</td>
                        <td th:text="${e.subject}">Application</td>
                        <td th:text="${e.text}">Description</td>
                        <td th:text="${e.addedDate}">2024-04-01</td>
                        <td>
                        
                            <span th:class="${'badge ' + 
                                (e.status == 'PENDING' ? 'bg-warning' : 
                                (e.status == 'APPROVE' ? 'bg-success' : 
                                (e.status == 'CANCEL'? 'bg-info' :
                              
                                (e.status == 'DENIED' ? 'bg-danger' : 'bg-secondary'))))}">
                                <span th:text="${e.status}"></span>
                            </span>
                        </td>
                       </tr>
                </tbody>
<!--                &lt;!&ndash; Similar for upcomingBirthdays &ndash;&gt;-->
<!--                <div th:if="${upcomingBirthdays == null || upcomingBirthdays.empty}"-->
<!--                     class="text-center text-muted">-->
<!--                    No upcoming birthdays-->
<!--                </div>-->
              </table>
            </div>
         </div>
     </div>
     
     <div class="col-md-4 mt-3">
      <div class="card">
          <div class="card-body">
            <h5>
              <i class="fas fa-calendar-alt"></i> 
              Birthdays in <span th:text="${#temporals.format(#temporals.createNow(), 'MMMM', new java.util.Locale('en'))}"></span>
          </h5>
              <hr>
              <div th:if="${not #lists.isEmpty(upcomingBirthdays)}" class="upcoming-events">
                  <div th:each="emp : ${upcomingBirthdays}" class="d-flex justify-content-between align-items-center mb-3">
                      <div class="d-flex align-items-center">
                          <i class="fas fa-user-circle fa-2x text-primary"></i>
                          <div class="ms-3">
                              <h6 class="mb-0" th:text="${emp.employeeName}">Employee Name</h6>
                              <small class="text-muted" th:text="${emp.dateOfBirth}">Date</small>
                          </div>
                      </div>
                      <i class="fas fa-birthday-cake text-danger"></i>
                  </div>
              </div>
              <div th:if="${#lists.isEmpty(upcomingBirthdays)}" class="text-center text-muted py-3">
                  <i class="fas fa-calendar-times fa-2x mb-2 d-block"></i>
                  <p class="mb-0">No birthdays this month</p>
              </div>
          </div>
      </div>
  </div>
  </div>
</section>

<script>
$(document).ready(function() {
    console.log("Document ready");
    try {
        $('#claimsTable').DataTable({
            "pageLength": 5,
            "order": [[3, "desc"]]
        });
        console.log("DataTable initialized");
    } catch(error) {
        console.error("DataTable error:", error);
    }
});
</script>



















